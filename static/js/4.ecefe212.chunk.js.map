{"version":3,"sources":["Redux/actions/network.js","Redux/actions/jsonPlaceHolderAction.js","Components/page1.js"],"names":["network","get","url","axios","post","data","patch","jsonPlaceholderActionCreator","payload","type","SAVE_JSON_PLACEHOLDER","netWorkFunction","a","response","useStyles","makeStyles","theme","root","display","flexWrap","justifyContent","alignItems","overflow","gridList","width","height","Page1","memo","props","hookRef","useRef","classes","contents","nextPageTocall","callPages","useEffect","console","log","pageNo","IntersectionObserver","handleObserver","rootMargin","threshold","observe","current","storeNextPage","window","store","getState","jsonPlaceHolderReducer","className","Grid","container","direction","map","tile","index","key","name","item","xs","src","process","alt","ref","connect","state","ownprops","dispatch","jsonPlaceholderGetReq"],"mappings":"yNAUiBA,EAPD,CACZC,IAAK,SAACC,GAAD,OAASC,IAAMF,IAAN,UAAaC,KAC3BE,KAAM,SAACF,EAAKG,GAAN,OAAeF,IAAMC,KAAN,UAAcF,GAAOG,IAC1CC,MAAO,SAACJ,EAAKG,GAAN,OACLF,IAAMG,MAAN,UAAeJ,GAAOG,KCArBE,EAA+B,SAACC,GAAD,MAAc,CAChDC,KAAKC,IACLF,YAGEG,EAAe,uCAAG,+BAAAC,EAAA,6DAAQV,EAAR,EAAQA,IAAR,SACGF,EAAQC,IAAIC,GADf,cACdW,EADc,yBAEjBA,GAFiB,2CAAH,sDCNfC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBC,WAAW,SACXC,SAAU,QAGZC,SAAU,CACRC,MAAO,MACPC,OAAQ,aAINC,EAAQC,gBAAK,SAACC,GAClB,IAAMC,EAAUC,mBACVC,EAAUjB,IACTkB,EAAuCJ,EAAvCI,SAAUC,EAA6BL,EAA7BK,eAAgBC,EAAaN,EAAbM,UAEjCC,qBAAU,WAMRC,QAAQC,IAAI,YACZH,EAAU,CAACI,OAAOL,IACD,IAAIM,qBAAqBC,EAP5B,CACZvB,KAAM,KACNwB,WAAY,MACZC,UAAW,KAKJC,QAAQd,EAAQe,WACxB,IAEH,IAAMJ,EAAiB,WAAO,IAEtBK,EADUC,OAATC,MACqBC,WAAWC,uBAAuBhB,eAC3DY,EAAgB,GAAGX,EAAU,CAACI,OAAOO,KAGxC,OACE,yBACEK,UAAWnB,EAAQd,MAErB,yBACEiC,UAAWnB,EAAQd,MAEnB,kBAACkC,EAAA,EAAD,CACAC,WAAS,EACTC,UAAU,MACVhC,WAAW,SACX6B,UAAWnB,EAAQR,UAElBS,EAASsB,KAAI,SAACC,EAAKC,GAAN,OACZ,kBAACL,EAAA,EAAD,CAAMM,IAAG,UAAKD,EAAL,YAAcD,EAAKG,MAC5BC,MAAI,EACJC,GAAI,GAEF,yBAAKC,IAAG,UAAKC,cAAL,mBAAsCP,EAAK,iBAAmBQ,IAAKR,EAAKG,OAClF,4BAAKH,EAAKG,YAKd,yBACAM,IAAKnC,GADL,kBAuBSoC,uBAdf,SAAyBC,EAAMC,GAE7B,OADA/B,QAAQC,IAAI,iDAAkD6B,EAAMjB,uBAAuBhB,gBACpF,CACLA,eAAgBiC,EAAMjB,uBAAuBhB,eAC7CD,SAASkC,EAAMjB,uBAAuBjB,aAI1C,SAA4BoC,GAC1B,MAAO,CACLlC,UAAW,gBAAEI,EAAF,EAAEA,OAAF,OAAc8B,EDtEE,SAAC,GAAa,IAAZ9B,EAAW,EAAXA,OAC7B,8CAAO,WAAO8B,GAAP,iBAAAxD,EAAA,sEACoBD,EAAgB,CAACT,IAAI,8BAAD,OAA+BoC,EAA/B,WADxC,OACG9B,EADH,OAEIH,EAAQG,EAARH,KACP+D,EAAS7D,EAA6BF,IAHnC,2CAAP,sDCqEkCgE,CAAsB,CAAC/B,gBAI9C2B,CAGbvC","file":"static/js/4.ecefe212.chunk.js","sourcesContent":["import axios from 'axios'\n\n\nconst network = {\n    get: (url) => axios.get(`${url}`),\n    post: (url, data) => axios.post(`${url}`, data),\n    patch: (url, data) =>\n      axios.patch(`${url}`, data)\n  }\n\n  export default network","\nimport {\n    SAVE_JSON_PLACEHOLDER\n} from '../constants'\n\nimport network from './network'\n\n const jsonPlaceholderActionCreator = (payload) => ({\n    type:SAVE_JSON_PLACEHOLDER,\n    payload\n})\n\nconst netWorkFunction = async ({url}) => {\n    const response = await network.get(url)\nreturn response\n}\n\n const jsonPlaceholderGetReq = ({pageNo}) =>{\n    return async (dispatch)=>{\n        const payload =  await netWorkFunction({url:`API/CONTENTLISTINGPAGE-PAGE${pageNo}.json`})\n        const {data} = payload\n        dispatch(jsonPlaceholderActionCreator(data))\n    }  \n}\n\nexport {\n    jsonPlaceholderGetReq,\n    jsonPlaceholderActionCreator\n}","import React, { memo, useEffect , useRef} from 'react'\nimport { connect } from 'react-redux'\nimport {Grid, makeStyles} from '@material-ui/core';\nimport { jsonPlaceholderGetReq } from '../Redux/actions/jsonPlaceHolderAction'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    alignItems:'center',\n    overflow: 'auto',\n    // backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    width: '50%',\n    height: '1000%',\n  }\n}));\n\nconst Page1 = memo((props)=> {\n  const hookRef = useRef()\n  const classes = useStyles();\n  const {contents, nextPageTocall, callPages} = props\n\n  useEffect(() => {\n    let options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1\n    }\n    console.log('didmount')\n    callPages({pageNo:nextPageTocall})\n    const observer = new IntersectionObserver(handleObserver,options)\n    observer.observe(hookRef.current)\n  }, []) \n  \n  const handleObserver = () => {\n    const {store} = window\n    const storeNextPage = store.getState().jsonPlaceHolderReducer.nextPageTocall\n    if(storeNextPage < 4) callPages({pageNo:storeNextPage})\n    }\n\n    return (\n      <div\n        className={classes.root}\n        >\n      <div \n        className={classes.root}\n      >\n        <Grid \n        container \n        direction=\"row\"\n        alignItems=\"center\"\n        className={classes.gridList}\n        >\n        {contents.map((tile,index) => (\n          <Grid key={`${index}_${tile.name}`}\n          item\n          xs={4}\n          >\n            <img src={`${process.env.PUBLIC_URL}/Slices/${tile['poster-image']}`} alt={tile.name} />\n          <h3>{tile.name}</h3>\n          </Grid>\n        ))}\n      </Grid>\n      </div>\n      <div\n      ref={hookRef}\n      >\n        ...loading\n        </div>\n        </div>\n    );\n})\n\nfunction mapStateToProps(state,ownprops) {\n  console.log('state.jsonPlaceHolderReducer.nextPageTocall : ', state.jsonPlaceHolderReducer.nextPageTocall)\n  return {\n    nextPageTocall: state.jsonPlaceHolderReducer.nextPageTocall,\n    contents:state.jsonPlaceHolderReducer.contents\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    callPages: ({pageNo}) => dispatch(jsonPlaceholderGetReq({pageNo})),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Page1)\n"],"sourceRoot":""}